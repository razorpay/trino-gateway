{
  "swagger": "2.0",
  "info": {
    "title": "rpc/gateway/service.proto",
    "version": "version not set"
  },
  "schemes": [
    "http",
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/twirp/razorpay.gateway.BackendApi/CreateOrUpdateBackend": {
      "post": {
        "operationId": "CreateOrUpdateBackend",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/gatewayEmpty"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/gatewayBackend"
            }
          }
        ],
        "tags": [
          "BackendApi"
        ]
      }
    },
    "/twirp/razorpay.gateway.BackendApi/DeleteBackend": {
      "post": {
        "operationId": "DeleteBackend",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/gatewayEmpty"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/gatewayBackendDeleteRequest"
            }
          }
        ],
        "tags": [
          "BackendApi"
        ]
      }
    },
    "/twirp/razorpay.gateway.BackendApi/DisableBackend": {
      "post": {
        "operationId": "DisableBackend",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/gatewayEmpty"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/gatewayBackendDisableRequest"
            }
          }
        ],
        "tags": [
          "BackendApi"
        ]
      }
    },
    "/twirp/razorpay.gateway.BackendApi/EnableBackend": {
      "post": {
        "operationId": "EnableBackend",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/gatewayEmpty"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/gatewayBackendEnableRequest"
            }
          }
        ],
        "tags": [
          "BackendApi"
        ]
      }
    },
    "/twirp/razorpay.gateway.BackendApi/GetBackend": {
      "post": {
        "operationId": "GetBackend",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/gatewayBackendGetResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/gatewayBackendGetRequest"
            }
          }
        ],
        "tags": [
          "BackendApi"
        ]
      }
    },
    "/twirp/razorpay.gateway.BackendApi/ListAllBackends": {
      "post": {
        "operationId": "ListAllBackends",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/gatewayBackendListAllResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/gatewayEmpty"
            }
          }
        ],
        "tags": [
          "BackendApi"
        ]
      }
    },
    "/twirp/razorpay.gateway.GroupApi/CreateOrUpdateGroup": {
      "post": {
        "operationId": "CreateOrUpdateGroup",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/gatewayEmpty"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/gatewayGroup"
            }
          }
        ],
        "tags": [
          "GroupApi"
        ]
      }
    },
    "/twirp/razorpay.gateway.GroupApi/DeleteGroup": {
      "post": {
        "operationId": "DeleteGroup",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/gatewayEmpty"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/gatewayGroupDeleteRequest"
            }
          }
        ],
        "tags": [
          "GroupApi"
        ]
      }
    },
    "/twirp/razorpay.gateway.GroupApi/DisableGroup": {
      "post": {
        "operationId": "DisableGroup",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/gatewayEmpty"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/gatewayGroupDisableRequest"
            }
          }
        ],
        "tags": [
          "GroupApi"
        ]
      }
    },
    "/twirp/razorpay.gateway.GroupApi/EnableGroup": {
      "post": {
        "operationId": "EnableGroup",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/gatewayEmpty"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/gatewayGroupEnableRequest"
            }
          }
        ],
        "tags": [
          "GroupApi"
        ]
      }
    },
    "/twirp/razorpay.gateway.GroupApi/EvaluateBackendForGroup": {
      "post": {
        "operationId": "EvaluateBackendForGroup",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/gatewayBackend"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/gatewayEvaluateBackendRequest"
            }
          }
        ],
        "tags": [
          "GroupApi"
        ]
      }
    },
    "/twirp/razorpay.gateway.GroupApi/GetGroup": {
      "post": {
        "operationId": "GetGroup",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/gatewayGroupGetResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/gatewayGroupGetRequest"
            }
          }
        ],
        "tags": [
          "GroupApi"
        ]
      }
    },
    "/twirp/razorpay.gateway.GroupApi/ListAllGroups": {
      "post": {
        "operationId": "ListAllGroups",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/gatewayGroupListAllResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/gatewayEmpty"
            }
          }
        ],
        "tags": [
          "GroupApi"
        ]
      }
    },
    "/twirp/razorpay.gateway.PolicyApi/CreateOrUpdatePolicy": {
      "post": {
        "operationId": "CreateOrUpdatePolicy",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/gatewayEmpty"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/gatewayPolicy"
            }
          }
        ],
        "tags": [
          "PolicyApi"
        ]
      }
    },
    "/twirp/razorpay.gateway.PolicyApi/DeletePolicy": {
      "post": {
        "operationId": "DeletePolicy",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/gatewayEmpty"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/gatewayPolicyDeleteRequest"
            }
          }
        ],
        "tags": [
          "PolicyApi"
        ]
      }
    },
    "/twirp/razorpay.gateway.PolicyApi/DisablePolicy": {
      "post": {
        "operationId": "DisablePolicy",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/gatewayEmpty"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/gatewayPolicyDisableRequest"
            }
          }
        ],
        "tags": [
          "PolicyApi"
        ]
      }
    },
    "/twirp/razorpay.gateway.PolicyApi/EnablePolicy": {
      "post": {
        "operationId": "EnablePolicy",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/gatewayEmpty"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/gatewayPolicyEnableRequest"
            }
          }
        ],
        "tags": [
          "PolicyApi"
        ]
      }
    },
    "/twirp/razorpay.gateway.PolicyApi/EvaluateGroupForClient": {
      "post": {
        "operationId": "EvaluateGroupForClient",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/gatewayGroup"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/gatewayEvaluateGroupRequest"
            }
          }
        ],
        "tags": [
          "PolicyApi"
        ]
      }
    },
    "/twirp/razorpay.gateway.PolicyApi/GetPolicy": {
      "post": {
        "operationId": "GetPolicy",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/gatewayPolicyGetResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/gatewayPolicyGetRequest"
            }
          }
        ],
        "tags": [
          "PolicyApi"
        ]
      }
    },
    "/twirp/razorpay.gateway.PolicyApi/ListAllPolicies": {
      "post": {
        "operationId": "ListAllPolicies",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/gatewayPolicyListAllResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/gatewayEmpty"
            }
          }
        ],
        "tags": [
          "PolicyApi"
        ]
      }
    },
    "/twirp/razorpay.gateway.QueryApi/CreateOrUpdateQuery": {
      "post": {
        "operationId": "CreateOrUpdateQuery",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/gatewayEmpty"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/gatewayQuery"
            }
          }
        ],
        "tags": [
          "QueryApi"
        ]
      }
    },
    "/twirp/razorpay.gateway.QueryApi/FindBackendForQuery": {
      "post": {
        "operationId": "FindBackendForQuery",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/gatewayBackend"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/gatewayFindBackendForQueryRequest"
            }
          }
        ],
        "tags": [
          "QueryApi"
        ]
      }
    },
    "/twirp/razorpay.gateway.QueryApi/GetQuery": {
      "post": {
        "operationId": "GetQuery",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/gatewayQueryGetResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/gatewayQueryGetRequest"
            }
          }
        ],
        "tags": [
          "QueryApi"
        ]
      }
    },
    "/twirp/razorpay.gateway.QueryApi/ListQueries": {
      "post": {
        "operationId": "ListQueries",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/gatewayQueriesListResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/gatewayQueriesListRequest"
            }
          }
        ],
        "tags": [
          "QueryApi"
        ]
      }
    }
  },
  "definitions": {
    "BackendScheme": {
      "type": "string",
      "enum": [
        "http",
        "https"
      ],
      "default": "http"
    },
    "GroupRoutingStrategy": {
      "type": "string",
      "enum": [
        "ROUND_ROBIN",
        "RANDOM"
      ],
      "default": "ROUND_ROBIN"
    },
    "PolicyRule": {
      "type": "object",
      "properties": {
        "type": {
          "$ref": "#/definitions/RuleRuleType"
        },
        "value": {
          "type": "string"
        }
      }
    },
    "QueriesListRequestOrder": {
      "type": "string",
      "enum": [
        "ASC",
        "DESC"
      ],
      "default": "ASC"
    },
    "RuleRuleType": {
      "type": "string",
      "enum": [
        "header_connection_properties",
        "header_client_tags",
        "header_host",
        "listening_port"
      ],
      "default": "header_connection_properties"
    },
    "gatewayBackend": {
      "type": "object",
      "properties": {
        "hostname": {
          "type": "string"
        },
        "scheme": {
          "$ref": "#/definitions/BackendScheme"
        },
        "id": {
          "type": "string"
        },
        "external_url": {
          "type": "string"
        },
        "is_enabled": {
          "type": "boolean",
          "format": "boolean"
        },
        "uptime_schedule": {
          "type": "string"
        }
      }
    },
    "gatewayBackendDeleteRequest": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        }
      }
    },
    "gatewayBackendDisableRequest": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        }
      }
    },
    "gatewayBackendEnableRequest": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        }
      }
    },
    "gatewayBackendGetRequest": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        }
      }
    },
    "gatewayBackendGetResponse": {
      "type": "object",
      "properties": {
        "backend": {
          "$ref": "#/definitions/gatewayBackend"
        }
      }
    },
    "gatewayBackendListAllResponse": {
      "type": "object",
      "properties": {
        "items": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/gatewayBackend"
          }
        }
      }
    },
    "gatewayEmpty": {
      "type": "object"
    },
    "gatewayEvaluateBackendRequest": {
      "type": "object",
      "properties": {
        "group_id": {
          "type": "string"
        }
      }
    },
    "gatewayEvaluateGroupRequest": {
      "type": "object",
      "properties": {
        "incoming_port": {
          "type": "integer",
          "format": "int32"
        },
        "host": {
          "type": "string"
        },
        "header_connection_properties": {
          "type": "string"
        },
        "header_client_tags": {
          "type": "string"
        }
      }
    },
    "gatewayFindBackendForQueryRequest": {
      "type": "object",
      "properties": {
        "query_id": {
          "type": "string"
        }
      }
    },
    "gatewayGroup": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "backends": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "strategy": {
          "$ref": "#/definitions/GroupRoutingStrategy"
        },
        "is_enabled": {
          "type": "boolean",
          "format": "boolean"
        }
      }
    },
    "gatewayGroupDeleteRequest": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        }
      }
    },
    "gatewayGroupDisableRequest": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        }
      }
    },
    "gatewayGroupEnableRequest": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        }
      }
    },
    "gatewayGroupGetRequest": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        }
      }
    },
    "gatewayGroupGetResponse": {
      "type": "object",
      "properties": {
        "group": {
          "$ref": "#/definitions/gatewayGroup"
        }
      }
    },
    "gatewayGroupListAllResponse": {
      "type": "object",
      "properties": {
        "items": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/gatewayGroup"
          }
        }
      }
    },
    "gatewayPolicy": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "rule": {
          "$ref": "#/definitions/PolicyRule"
        },
        "group": {
          "type": "string"
        },
        "fallback_group": {
          "type": "string"
        },
        "is_enabled": {
          "type": "boolean",
          "format": "boolean"
        }
      }
    },
    "gatewayPolicyDeleteRequest": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        }
      }
    },
    "gatewayPolicyDisableRequest": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        }
      }
    },
    "gatewayPolicyEnableRequest": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        }
      }
    },
    "gatewayPolicyGetRequest": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        }
      }
    },
    "gatewayPolicyGetResponse": {
      "type": "object",
      "properties": {
        "policy": {
          "$ref": "#/definitions/gatewayPolicy"
        }
      }
    },
    "gatewayPolicyListAllResponse": {
      "type": "object",
      "properties": {
        "items": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/gatewayPolicy"
          }
        }
      }
    },
    "gatewayQueriesListRequest": {
      "type": "object",
      "properties": {
        "count": {
          "type": "integer",
          "format": "int32",
          "title": "standard"
        },
        "order_by": {
          "$ref": "#/definitions/QueriesListRequestOrder"
        },
        "from": {
          "type": "integer",
          "format": "int32"
        },
        "to": {
          "type": "integer",
          "format": "int32"
        },
        "skip": {
          "type": "integer",
          "format": "int32"
        },
        "username": {
          "type": "string",
          "title": "custom fields to filter on"
        },
        "backend_id": {
          "type": "string"
        },
        "group_id": {
          "type": "string"
        },
        "successful_submission": {
          "type": "boolean",
          "format": "boolean"
        }
      }
    },
    "gatewayQueriesListResponse": {
      "type": "object",
      "properties": {
        "items": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/gatewayQuery"
          }
        }
      }
    },
    "gatewayQuery": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "text": {
          "type": "string"
        },
        "received_at": {
          "type": "string",
          "format": "int64"
        },
        "client_ip": {
          "type": "string"
        },
        "group_id": {
          "type": "string"
        },
        "backend_id": {
          "type": "string"
        },
        "username": {
          "type": "string"
        },
        "submitted_at": {
          "type": "string",
          "format": "int64"
        }
      }
    },
    "gatewayQueryGetRequest": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        }
      }
    },
    "gatewayQueryGetResponse": {
      "type": "object",
      "properties": {
        "query": {
          "$ref": "#/definitions/gatewayQuery"
        }
      }
    }
  }
}
